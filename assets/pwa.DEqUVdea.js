import{aJ as o,aK as e,aL as r,aM as n,aN as t,u as s}from"./index-SUU5mfSv.js";function a(){if(o())return console.log("iPhone设备且不是在PWA模式下 直接显示PWA添加提示"),!0;try{const o=window.deferredPrompt;return"beforeinstallprompt"==o.type?(console.log("支持PWA"),e(),!0):(console.log(`不支持PWA ${o.type}`),!1)}catch{return console.log("异常不支持PWA"),!1}}function l(){if(o())return console.log("iPhone设备且不是在PWA模式下 直接显示PWA添加引导"),void r();try{n(),window.deferredPrompt.prompt(),window.deferredPrompt.userChoice.then((o=>{"accepted"===o.outcome?(console.log("用户接受了pwa安装"),t(!0)):(console.log("未完成pwa安装"),t(!1)),window.deferredPrompt=null,s().pwaStatusChanged()}))}catch{isIos()&&console.error("系统pwa安装提示失败 iOS跳转添加到主屏幕引导页")}}console.log("执行 pwa.js");export{l as i,a as p};
