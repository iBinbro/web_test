import{_ as a,h as e,u as l,j as s,ay as t,az as r,aA as n,n as o,aB as u,H as c,o as d,d as i,w as p,aC as f,aD as _,i as m,e as g,T as h,P as y,Q as v,R as b,S as k,U as C,V as $,L as w,N as x,O as K,aE as P,aF as N,a4 as A,a3 as j,K as D,aG as S,W as R,aH as X,a9 as B,a6 as I,aI as L,p as T,a0 as q,f as z,a2 as F}from"./index-SUU5mfSv.js";import{_ as H}from"./z-paging.CcGAQywI.js";import{b as O,c as U,r as V}from"./uni-app.es.BFzw-cPf.js";import{p as E,i as G}from"./pwa.DEqUVdea.js";const M=a({__name:"mine",setup(a){const{debugRtmStatus:M,firebaseStatus:Q,appLogin:W,userBalance:Y,userDetail:J}=e(l()),Z=s(t?`内部测试版本：2/12/2025, 6:53:33 PM\n\t\t系统的国际化编码 ${r}\n\t\tuniapp组件的国际化编码 ${n()}\n\t\t当前使用国际化文本 ${o.language.tr}\n\t\t设备id:${u}`:"");let aa=3;const ea=s([]),la=s(),sa=()=>{console.log("刷新个人中心"),f({success:a=>{var e;null==(e=la.value)||e.complete(!0)},fail:()=>{var a;null==(a=la.value)||a.complete(!0)},netFail:()=>{var a;null==(a=la.value)||a.complete(!0)}}),_({success:a=>{ea.value=a}})};sa();const ta=()=>{B()},ra=()=>{I({url:"/pages/tab_bar/mine/about-us/about-us"})},na=s(!1);na.value=E();const oa=l().$onAction((({name:a,args:e})=>{"pwaStatusChanged"==a&&(na.value=E())}));const ua=()=>{L()},ca=()=>{T()?I({url:"/pages/tab_bar/mine/bill-details/bill-details"}):q()},da=()=>{T()?I({url:"/pages/tab_bar/mine/faq/faq"}):q()};return O((()=>{l().loadAllConversations({success:()=>{console.log("App初始化开始设置会话角标"),l().updateConversationBadge()}})})),U((()=>{oa()})),(a,e)=>{const l=m,s=z,r=F,n=V(c("z-paging"),H);return d(),i(l,null,{default:p((()=>[g(n,{class:"bg","default-theme-style":"white",ref_key:"paging",ref:la,"refresher-only":"",onOnRefresh:sa,"refresher-default-text":a.$lanKey.refreshPullDown.tr,"refresher-pulling-text":a.$lanKey.refreshPullDown.tr,"refresher-refreshing-text":a.$lanKey.refreshing.tr,"refresher-complete-text":a.$lanKey.refreshPullDown.tr},{top:p((()=>[g(l,{class:"b-safe-top"},{default:p((()=>[g(l,{class:"b-status-bar"}),g(l,{class:"user-nav"},{default:p((()=>{var a;return[g(l,{class:"home_logo",onClick:e[0]||(e[0]=a=>(aa-=1,void(0==aa&&(t.value=!t.value,X()))))},{default:p((()=>[g(l,{class:"home_logo_logo"}),g(l,{class:"home_logo_logo_text"})])),_:1}),g(s,{onClick:ta,class:"user-portrait",src:h(W)?null==(a=h(J))?void 0:a.portrait:""},null,8,["src"])]})),_:1})])),_:1})])),default:p((()=>[g(l,{class:"user-center"},{default:p((()=>[y(g(l,{style:{display:"flex","flex-direction":"column",color:"red","word-break":"break-all"}},{default:p((()=>[g(r,null,{default:p((()=>[b(k(Z.value),1)])),_:1}),g(r,null,{default:p((()=>[b("Rtm连接状态:"+k(h(M)),1)])),_:1}),g(r,{selectable:"true"},{default:p((()=>[b("firebase推送:"+k(h(Q)),1)])),_:1})])),_:1},512),[[v,h(t)]]),g(r,{class:"login-tip"},{default:p((()=>{var e,l;return[b(k(h(W)?a.$lanKey.hi.trArg(`${(null==(e=h(J))?void 0:e.nickname)??""}(${(null==(l=h(J))?void 0:l.username)??""})`):a.$lanKey.notLoginYet.tr),1)]})),_:1}),g(l,{class:"recharge-area",onClick:e[1]||(e[1]=a=>h(C)({path:h($).rechargeCenter}))},{default:p((()=>[g(l,{class:"diamond-area"},{default:p((()=>[g(l,{class:"diamond"}),g(r,null,{default:p((()=>[b(k(h(W)?h(Y):"--"),1)])),_:1})])),_:1}),g(l,{class:"recharge-btn"},{default:p((()=>[b(k(a.$lanKey.recharge.tr),1)])),_:1})])),_:1}),g(l,{class:"mid-area"},{default:p((()=>[g(l,{class:"bag",onClick:ua},{default:p((()=>{var e;return[g(l,{class:"top"},{default:p((()=>[g(r,null,{default:p((()=>[b(k(a.$lanKey.myPackage.tr),1)])),_:1}),g(l,{class:"arrow-right transX"})])),_:1}),(d(!0),w(K,null,x(null==(e=h(J))?void 0:e.propVoList,((a,e)=>(d(),i(l,{class:"item",key:e},{default:p((()=>[g(l,{class:A(["item-icon",{"props-match":5==a.propType,"props-video":1==a.propType,"props-chat":4==a.propType}])},null,8,["class"]),g(r,null,{default:p((()=>[b("x"+k(a.propNum),1)])),_:2},1024)])),_:2},1024)))),128))]})),_:1}),g(l,{onClick:e[2]||(e[2]=a=>h(P)({type:1})),class:"daily-reward"},{default:p((()=>[g(l,{class:"top"},{default:p((()=>[g(r,null,{default:p((()=>[b(k(a.$lanKey.dailyRewards.tr),1)])),_:1}),g(l,{class:"arrow-right transX"})])),_:1}),g(l,{class:"danmaku-area"},{default:p((()=>[g(h(N),{class:"danmaku",channels:2,top:8,speeds:60,useSlot:"",randomChannel:"",danmus:ea.value,loop:""},{dm:p((({index:e,danmu:s})=>[g(l,{class:A(["barrage",e%3==0?"barrage-1":e%3==1?"barrage-2":"barrage-3"])},{default:p((()=>[g(l,{class:"portrait",style:j({backgroundImage:`url(${null==s?void 0:s.portrait})`})},null,8,["style"]),g(r,{class:"nick-name"},{default:p((()=>[b(k(null==s?void 0:s.nickname),1)])),_:2},1024),g(l,{class:"reward-info"},{default:p((()=>[g(r,null,{default:p((()=>[b(k(a.$lanKey.claimed.tr),1)])),_:1}),g(r,{class:"num"},{default:p((()=>[b("+"+k(s.diamonds>0?s.diamonds.toBin:s.callCardNum>0?s.callCardNum:s.chatCardNum>0?s.chatCardNum:s.matchCardNum),1)])),_:2},1024),g(l,{class:A(["reward-icon",s.diamonds>0?"props-diamond":s.callCardNum>0?"props-video":s.chatCardNum>0?"props-chat":"props-match"])},null,8,["class"])])),_:2},1024)])),_:2},1032,["class"])])),_:1},8,["danmus"])])),_:1})])),_:1})])),_:1}),g(l,{class:"setting-area"},{default:p((()=>[g(l,{class:"item",onClick:ca},{default:p((()=>[g(r,null,{default:p((()=>[b(k(a.$lanKey.billDetails.tr),1)])),_:1}),g(l,{class:"arrow-right transX"})])),_:1}),g(l,{class:"item",onClick:da},{default:p((()=>[g(r,null,{default:p((()=>[b(k(a.$lanKey.customerService.tr),1)])),_:1}),g(l,{class:"arrow-right transX"})])),_:1}),g(l,{class:"item",onClick:ra},{default:p((()=>[g(r,null,{default:p((()=>[b(k(a.$lanKey.aboutUs.tr),1)])),_:1}),g(l,{class:"arrow-right transX"})])),_:1})])),_:1}),h(D)?R("",!0):(d(),i(l,{key:0,class:"app-tip"},{default:p((()=>[g(l,{class:"logo_text home_logo_logo_text"}),g(r,null,{default:p((()=>[b(k(a.$lanKey.advicePwaAndApp.tr),1)])),_:1}),g(l,{class:"down-btn-area"},{default:p((()=>[g(l,{class:"down-btn",onClick:h(S)},{default:p((()=>[g(l,{class:"googlePlayIcon"}),g(r,null,{default:p((()=>[b(k(a.$lanKey.googlePlay.tr),1)])),_:1})])),_:1},8,["onClick"])])),_:1})])),_:1}))])),_:1})])),_:1},8,["refresher-default-text","refresher-pulling-text","refresher-refreshing-text","refresher-complete-text"]),y(g(l,{onClick:h(G),class:"pwa-tip"},{default:p((()=>[g(l,{style:{display:"flex","justify-content":"center","align-items":"center"}},{default:p((()=>[g(l,{class:"home_logo_logo",style:{"margin-inline-end":"12rpx","flex-shrink":"0"}}),g(r,{class:"tip"},{default:p((()=>[b(k(a.$lanKey.pwa_tip.tr),1)])),_:1})])),_:1}),g(l,{class:"area"},{default:p((()=>[g(l,{class:"add"},{default:p((()=>[b(k(a.$lanKey.add.tr),1)])),_:1}),g(l,{class:"cancel",onClick:e[3]||(e[3]=a=>{return e=a,na.value=!1,void e.stopPropagation();var e})})])),_:1})])),_:1},8,["onClick"]),[[v,na.value]])])),_:1})}}},[["__scopeId","data-v-2781f095"]]);export{M as default};
